# TripaliumAI Production Environment Variables
# Copy this file to .env in /opt/tripalium on the production server
# Generate secure random values for secrets (use: openssl rand -base64 32)

# =============================================================================
# GitHub Container Registry
# =============================================================================
# Your GitHub username or organization name (lowercase)
GITHUB_OWNER=axiodev

# =============================================================================
# Database Configuration
# =============================================================================
POSTGRES_USER=tripalium
# Generate with: openssl rand -base64 32
POSTGRES_PASSWORD=CHANGE_ME_GENERATE_SECURE_PASSWORD
POSTGRES_DB=tripalium

# =============================================================================
# Authentication Secrets
# =============================================================================
# Generate with: openssl rand -base64 32
JWT_SECRET=CHANGE_ME_GENERATE_32_CHAR_SECRET
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=CHANGE_ME_GENERATE_32_CHAR_SECRET
NEXTAUTH_URL=https://tripalium.projets.work

# =============================================================================
# API Keys
# =============================================================================
# OpenAI API key for document generation and AI features
OPENAI_API_KEY=sk-...

# =============================================================================
# Email Configuration (Optional)
# =============================================================================
# Leave as localhost for local development/testing
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_FROM=noreply@tripalium.projets.work
# Set to true to enable real email sending
ENABLE_REAL_EMAIL=false

# =============================================================================
# Security
# =============================================================================
# Comma-separated list of allowed origins
CORS_ORIGINS=https://tripalium.projets.work

# =============================================================================
# Internal URLs (usually don't need to change)
# =============================================================================
API_INTERNAL_URL=http://api:3001

# =============================================================================
# Production Mode & Safety Settings
# =============================================================================
# Set to true to enable production mode with safety checks
# When enabled: mock jobs disabled, requires OpenAI key, requires Redis
PRODUCTION_MODE=false

# Disable mock job adapter in production
ENABLE_MOCK_JOBS=false

# =============================================================================
# Data Retention (GDPR Compliance)
# =============================================================================
# How long to keep action logs (days)
DATA_RETENTION_LOGS_DAYS=365

# How long to keep email records (days)
DATA_RETENTION_EMAILS_DAYS=90

# How long to keep soft-deleted user accounts before hard deletion (days)
DATA_RETENTION_DELETED_USERS_DAYS=30

# How long to keep sensitive/compliance logs (years) - legal requirement
DATA_RETENTION_SENSITIVE_LOGS_YEARS=7

# =============================================================================
# Application Rate Limits
# =============================================================================
# Maximum applications per user per day
MAX_APPLICATIONS_PER_DAY=20

# Maximum applications per user per week
MAX_APPLICATIONS_PER_WEEK=100
